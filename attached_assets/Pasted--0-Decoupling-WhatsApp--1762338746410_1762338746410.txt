שלב 0: פירוק התלות והכנת התשתיות (Decoupling)
המטרה: להיפטר מהקוד המסובך של WhatsApp ולהחליף אותו בשירות הודעות פשוט יותר (Email/SMS).

פירוק מודל ה-WhatsApp:

מחק את כל הקוד והאינטגרציות הקשורים ל-WhatsAppConnection Model (חיבורים מרובים, QR Code authentication).

הסר את כל ה-routes (נתיבי API) הקשורים לקבלת ושליחת הודעות דרך WhatsApp.

מחק/השבת את כל הקוד הקשור ל-Message Queue ול-Message Retry Logic.

עדכן את Event Model ו-Registration Model: שנה את השדות שנועדו לשלוח הודעות WhatsApp לשדות שיתאימו לכתובת מייל/SMS.

הוספת ספק תקשורת פשוט:

התקן חבילת שליחת מיילים (כגון nodemailer) או ספריית SMS (כגון twilio, אם נדרש).

צור NotificationService חדש: שירות זה יחליף את ה-WhatsAppService הקודם וישתמש ב-Email/SMS לשליחת:

אישור הרשמה.

תזכורת לאירוע.

שלב 1: ליבת התשלומים וחשבוניות (The Revenue Core)
המטרה: לאפשר גביית כסף ושליחת תיעוד פיננסי אוטומטי.

אינטגרציית תשלומים (Backend):

בחר ספק תשלומים: אם אתה רוצה פתרון גלובלי, השתמש ב-Stripe/PayPal.

הסר את ה-MOCK DATA: מחק את ה-MOCK DATA מכל ה-routes הקשורים לתשלומים.

צור PaymentService: הטמע את האינטגרציה עם ה-API של ספק התשלומים (למשל, יצירת Payment Intent ב-Stripe).

חבר ל-Registration Model: ודא שברגע שהתשלום הצליח, ה-Registration Model מתעדכן בסטטוס paid: true ובפרטי העסקה.

יצירת חשבוניות (PDF Generation):

התקן חבילה ליצירת PDF: כגון pdfkit או html-pdf.

צור InvoiceService: שירות זה יקבל את פרטי הרישום והתשלום ויפיק קובץ PDF לפי סטנדרט חשבונית/קבלה.

אוטומציה מלאה: חבר את ה-PaymentService ל-InvoiceService כך שמיד לאחר תשלום מוצלח, החשבונית נוצרת ונשלחת אוטומטית (דרך שירות המייל החדש, NotificationService).

שלב 2: השלמת ניהול האירועים והאוטומציה
המטרה: להבטיח שכל התהליך האוטומטי עובד בצורה חלקה.

השלמת Event Routes:

Routes ליצירת אירוע ציבורי: ודא שיש לך routes ליצירה, עדכון ומחיקה של אירועים.

Route לרישום: Route פומבי (ללא צורך באותנטיקציה של המשתמשים הסופיים) שמקבל פרטי לקוח, יוצר בקשת תשלום, ובהצלחה – יוצר רישום ושולח אישור (מייל/SMS).

חיבור תזכורות אוטומטיות:

הפעלת Scheduler: השתמש בחבילת CRON Job ב-Express.js (כגון node-cron או דומה) כדי להפעיל סקריפט ברקע.

הגדרת המשימה: המשימה תרוץ פעם ביום ותחפש ב-Registration Model את כל הרישומים לאירועים שמתקיימים מחר.

שליחת התזכורת: השתמש ב-NotificationService כדי לשלוח ללקוחות אלו תזכורת מייל/SMS עם פרטי האירוע.

שלב 3: Frontend MVP (React/Vue/EJS)
המטרה: בניית ממשק המשתמש ההכרחי שבעל העסק והלקוח צריכים.

ממשק פומבי (Customer-Facing):

דף רישום דינמי: צור קומפוננטה/דף HTML בסיסי שיכול לטעון פרטי אירוע ספציפי (לפי ID או Slug) מה-Backend. הדף חייב לכלול:

פרטי האירוע.

טופס רישום (שם, מייל, טלפון).

כפתור תשלום שמפעיל את ה-PaymentService.

טיפ: זהו דף הלינק שבעל העסק ישתף!

דאשבורד ניהול (Admin Dashboard):

יומן אירועים (Event List): טבלה/תצוגה שבה בעל העסק רואה את כל האירועים הקרובים.

ניהול נרשמים: לחיצה על אירוע פותחת רשימה של כל ה-Registration Model (שם, סטטוס תשלום, סטטוס רשימת המתנה).

יצירת אירוע: טופס פשוט ליצירה ועריכה של אירועים חדשים.